{
    "test_mixtral_hf2mcore_tp2pp2ep2dypp": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "2",
                "target-pipeline-parallel-size": "2", 
                "target-expert-parallel-size": "2",
                "num-layer-list": "6,10",
                "load-dir":"/data/Mixtral-8x7B-v0.1",
                "save-dir":"/data/wttest/test/hf2mc_mixtral_tp2pp2ep2dypp",
                "use-mcore-models": null,
                "model-type-hf": "mixtral",
                "params-dtype": "bf16",
                "tokenizer-model":"/data/Mixtral-8x7B-v0.1/tokenizer.model"
            }
        }
    ],

    "test_mixtral_mcore2hf_tp1pp4ep2vpp2": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type": "hf",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "target-expert-parallel-size": "1",
                "save-dir":"/data/Mixtral-8x7B-v0.1/",
                "load-dir":"/data/wttest/base/hf2mc_mixtral_tp1pp4ep2vpp2",
                "use-mcore-models": null,
                "model-type-hf": "mixtral",
                "params-dtype": "bf16"
            }
        }
    ],

    "test_deepseek2_hf2mcore_tp1pp4ep8": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "4",
                "target-expert-parallel-size": "8",
                "load-dir":"/data/ci/deepseek2/hf/deepseek2_hf",
                "save-dir":"/data/ci/deepseek2/mg/deepseek2_mg",
                "use-mcore-models": null,
                "moe-grouped-gemm": null,
                "model-type-hf": "deepseek2",
                "params-dtype": "bf16",
                "tokenizer-model":"/data/ci/deepseek2/hf/deepseek2_hf",
                "spec":"mindspeed_llm.tasks.models.spec.deepseek_spec layer_spec"
            }
        }
    ],

    "test_deepseek2_mcore2hf_tp1pp4ep8": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type": "hf",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "target-expert-parallel-size": "1",
                "save-dir":"/data/ci/deepseek2/hf/deepseek2_hf",
                "load-dir":"/data/ci/deepseek2/mg_base/deepseek2-l8-t1p4e8-gemm",
                "use-mcore-models": null,
                "moe-grouped-gemm": null,
                "model-type-hf": "deepseek2",
                "params-dtype": "bf16",
                "spec":"mindspeed_llm.tasks.models.spec.deepseek_spec layer_spec"
            }
        }
    ],

    "test_deepseek2_lite_hf2mcore_tp1pp1ep8": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "target-expert-parallel-size": "8",
                "load-dir":"/data/ci/deepseek2_lite/hf/deepseek2_lite_hf",
                "save-dir":"/data/ci/deepseek2_lite/mg/deepseek2_lite_mg",
                "use-mcore-models": null,
                "model-type-hf": "deepseek2-lite",
                "params-dtype": "bf16",
                "tokenizer-model":"/data/ci/deepseek2_lite/hf/deepseek2_lite_hf",
                "spec":"mindspeed_llm.tasks.models.spec.deepseek_spec layer_spec"
            }
        }
    ],

    "test_deepseek2_lite_mcore2hf_tp1pp1ep8": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type": "hf",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "target-expert-parallel-size": "1",
                "save-dir":"/data/ci/deepseek2_lite/hf/deepseek2_lite_hf",
                "load-dir":"/data/ci/deepseek2_lite/mg_base/deepseek2_lite_l3_t1p1e8",
                "use-mcore-models": null,
                "model-type-hf": "deepseek2-lite",
                "params-dtype": "bf16",
                "spec":"mindspeed_llm.tasks.models.spec.deepseek_spec layer_spec"
            }
        }
    ],

    "test_gemma2_hf2mcore_tp8pp1": [
        {
            "param": {
                "model-type": "GPT",
                "load-model-type": "hf",
                "save-model-type": "mg",
                "target-tensor-parallel-size": "8",
                "target-pipeline-parallel-size": "1",
                "load-dir": "/data/gemma2-9b-hf/",
                "save-dir": "/data/gemma2-9b-mg-tp8pp1-mcore-test/",
                "use-mcore-models": null,
                "post-norm": null,
                "model-type-hf": "gemma2",
                "params-dtype": "bf16",
                "tokenizer-model": "/data/gemma2-9b-hf/tokenizer.json"
            }
        }
    ],
    "test_qwen2_moe_hf2mcore_tp1pp2ep2": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "2",
                "target-expert-parallel-size": "2",
                "load-dir":"/data/ci/qwen2_moe/hf_base/qwen2_moe_hf",
                "save-dir":"/data/ci/qwen2_moe/mg_base/qwen2_moe_l2_t1p2e2",
                "tokenizer-model":"/data/ci/qwen2_moe/hf_base/qwen2_moe_hf",
                "use-mcore-models": null,
                "moe-grouped-gemm": null,
                "add-qkv-bias": null,
                "model-type-hf": "qwen2-moe",
                "params-dtype": "bf16"
            }
        }
    ],

    "test_qwen2_moe_mcore2hf_tp1pp2ep2": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type": "hf",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "target-expert-parallel-size": "1",
                "save-dir":"/data/ci/qwen2_moe/hf_base/qwen2_moe_hf",
                "load-dir":"/data/ci/qwen2_moe/mg_base/qwen2_moe_l2_t1p2e2_base",
                "use-mcore-models": null,
                "moe-grouped-gemm": null,
                "add-qkv-bias": null,
                "model-type-hf": "qwen2-moe",
                "params-dtype": "bf16"
            }
        }
    ],

    "test_llama3_noop_layer_hf2mg": [
        {
            "param": {
                "model-type":"GPT",
                "model-type-hf": "llama2",
                "use-mcore-models": null,
                "load-model-type":"hf",
                "save-model-type": "mg",
                "target-tensor-parallel-size": "2",
                "target-pipeline-parallel-size": "2",
                "save-dir":"/data/llama-3-8b-hf-nooplayer-tp2pp2vpp2-mcore-test/",
                "load-dir":"/data/llama-3-8b-hf-layer14/",
                "num-layers-per-virtual-pipeline-stage": "2",
                "noop-layers": "1,15",
                "params-dtype": "bf16",
                "tokenizer-model": "/data/llama-3-8b-hf/tokenizer.json"
            }
        }
    ],

     "test_llama2_hf2legacy_tp2pp4dypp": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "2",
                "target-pipeline-parallel-size": "4",
                "num-layer-list": "6,8,8,10",
                "load-dir":"/data/llama-2-7b-hf",
                "save-dir":"/data/llama-2-7b-hf-hf2ml-tp2pp4dypp-test",
                "model-type-hf": "llama2",
                "tokenizer-model":"/data/llama-2-7b-hf/tokenizer.model"
            }
        }
    ],

    "test_llama2_legacy2hf_tp2pp4dypp": [
        {
            "param": {
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type":"hf",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "load-dir":"/data/llama-2-7b-hf-hf2ml-tp2pp4dypp",
                "save-dir":"/data/llama-2-7b-hf",
                "model-type-hf": "llama2"
            }
        }
    ],

    "test_llama2_legacy2mcore_tp2pp4dypp": [
        {
            "param": {
                "model-type":"GPT",
                "use-mcore-models": null,
                "load-model-type":"mg",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "2",
                "target-pipeline-parallel-size": "4",
                "num-layer-list": "6,8,8,10",
                "load-from-legacy": null,
                "load-dir":"/data/llama-2-7b-hf-legacy_test-tp1pp4vpp2",
                "save-dir":"/data/llama-2-7b-hf-ml2mc-tp2pp4dypp-test",
                "model-type-hf": "llama2"
            }
        }
    ],

    "test_llama2_mcore2legacy_tp1pp4vpp2": [
        {
            "param": {
                "model-type":"GPT",
                "use-mcore-models": null,
                "load-model-type":"mg",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "4",
                "num-layers-per-virtual-pipeline-stage": "2",
                "save-to-legacy": null,
                "load-dir":"/data/llama-2-7b-hf-ml2mc-tp2pp4dypp",
                "save-dir":"/data/llama-2-7b-hf-mc2ml-tp1pp4vpp2-test",
                "model-type-hf": "llama2"
            }
        }
    ],

    "test_qwen2_hf2mcore_tp1pp1": [
        {
            "param": {
                "model-type":"GPT",
                "use-mcore-models": null,
                "load-model-type":"hf",
                "save-model-type":"mg",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "load-dir":"/data/Qwen2-1.5B/",
                "save-dir":"/data/qwen2-1.5b-base-mg-tp1pp1-mcore-test/",
                "model-type-hf": "llama2",
                "tokenizer-model":"/data/Qwen2-1.5B/tokenizer.model",
                "add-qkv-bias": null,
                "params-dtype": "bf16"
            }
        }
    ],

    "test_llama2_lora2mcore_tp1pp1":[
        {
            "param":{
                "model-type":"GPT",
                "load-model-type":"mg",
                "save-model-type":"mg",
                "load-dir":"/data/llama2_ckpt_lora_UT/Llama2-mcore/",
                "save-dir":"/data/llama2_ckpt_lora_UT/llama2-7b-lora2mcore-test/",
                "lora-load":"/data/llama2_ckpt_lora_UT/llama-7b-lora-mcore-tp1pp1/",
                "lora-r":"16",
                "lora-alpha":"32",
                "lora-target-modules":"linear_qkv linear_proj linear_fc1 linear_fc2",
                "target-tensor-parallel-size": "1",
                "target-pipeline-parallel-size": "1",
                "use-mcore-models": null,
                "model-type-hf": "llama2"
            }
        }
    ]
}





